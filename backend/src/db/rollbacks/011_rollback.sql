-- Rollback for migration 011
-- WARNING: Review before running in production

DROP INDEX IF EXISTS idx_browser_allowlist_user_domain;
DROP INDEX IF EXISTS idx_rate_limits_user_resource;
DROP INDEX IF EXISTS idx_cost_budgets_period;
DROP INDEX IF EXISTS idx_cost_budgets_user_id;
DROP INDEX IF EXISTS idx_memory_records_last_accessed;
DROP INDEX IF EXISTS idx_memory_records_importance;
DROP INDEX IF EXISTS idx_memory_records_type;
DROP INDEX IF EXISTS idx_memory_records_user_id;
DROP INDEX IF EXISTS idx_skills_name;
DROP INDEX IF EXISTS idx_skills_status;
DROP INDEX IF EXISTS idx_skills_user_id;
DROP INDEX IF EXISTS idx_agent_swarm_parent_id;
DROP INDEX IF EXISTS idx_agent_swarm_status;
DROP INDEX IF EXISTS idx_agent_swarm_user_id;
DROP INDEX IF EXISTS idx_approval_requests_created_at;
DROP INDEX IF EXISTS idx_approval_requests_status;
DROP INDEX IF EXISTS idx_approval_requests_user_id;
DROP INDEX IF EXISTS idx_heartbeats_next_run;
DROP INDEX IF EXISTS idx_heartbeats_enabled;
DROP INDEX IF EXISTS idx_heartbeats_user_id;
DROP INDEX IF EXISTS idx_audit_logs_action;
DROP INDEX IF EXISTS idx_audit_logs_created_at;
DROP INDEX IF EXISTS idx_audit_logs_category;
DROP INDEX IF EXISTS idx_audit_logs_user_id;
DROP INDEX IF EXISTS idx_integration_secrets_user_provider;
DROP INDEX IF EXISTS idx_oauth_tokens_user_provider;
DROP INDEX IF EXISTS idx_integrations_status;
DROP INDEX IF EXISTS idx_integrations_provider;
DROP INDEX IF EXISTS idx_integrations_user_id;
DROP TABLE IF EXISTS browser_allowlist;
DROP TABLE IF EXISTS rate_limits;
DROP TABLE IF EXISTS cost_budgets;
DROP TABLE IF EXISTS memory_records;
DROP TABLE IF EXISTS skills;
DROP TABLE IF EXISTS agent_swarm;
DROP TABLE IF EXISTS approval_requests;
DROP TABLE IF EXISTS heartbeats;
DROP TABLE IF EXISTS audit_logs;
DROP TABLE IF EXISTS integration_secrets;
DROP TABLE IF EXISTS oauth_tokens;
DROP TABLE IF EXISTS integrations;